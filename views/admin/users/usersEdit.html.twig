{% set navActive = "users" %}

{% extends "templates/admin.html.twig" %}

{% block content %}
    <section id="container-admin">

       {{ include('includes/boxMessages.html.twig') }}

        <header id="admin-header">
            <h1>Editer un utilisateur</h1>
        </header>

        {% include "admin/users/navAdminUsers.html.twig" with {active : "edit"} %}


        <section id="admin-content">
            <form action="{{ HERE }}" method="POST" id="form-users-add">
                <div class="box-input-txt">
                    <label>
                        <div>Id</div>
                        <input value="{{ userInfo.id ?? '' }}" readonly>
                    </label>
                </div>

                <div class="box-input-txt">
                    <label>
                        <div>Email</span></div>
                        <input type="email" name="email" value="{{ userInfo.email ?? ''  }}">
                    </label>
                </div>

                <div class="box-input-txt">
                    <label>
                        <div>Nom</div>
                        <input type="text" name="name" value="{{ userInfo.name ?? '' }}">
                    </label>
                </div>

                <div class="box-input-txt">
                    <label>
                        <div>Prénom</div>
                        <input type="text" name="firstName" value="{{ userInfo.firstName ?? '' }}">
                    </label>
                </div>

                <div class="box-input-txt">
                    <label>
                        <div>Nouveau mot de passe</div>
                        <input type="password" name="password">
                    </label>
                </div>

                <div class="box-select">
                    <label>
                        <div>Role</div>
                        <select name="role">
                            {% for role in roles %}
                                <option value="{{ role.id }}" {{ userInfo.role == role.name ? "selected" : '' }}>{{ role.name }}</option>
                            {% endfor %}
                        </select>
                    </label>
                </div>

                <div class="box-input-toggle">
                    <label>
                        <div>Utilisateur vérifié</div>
                        <input type='hidden' value='0' name='confirmed'>
                        <input type="checkbox" name="confirmed" {{ userInfo.confirmed ? "checked" : "" }} value="1">
                    </label>
                </div>

                <div class="box-input-submit">
                    <input type="submit" value="Editer">
                </div>
            </form>
        </section>
    </section>
{% endblock content %}